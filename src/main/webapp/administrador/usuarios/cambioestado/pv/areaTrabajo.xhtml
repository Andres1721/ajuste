<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:html5="http://xmlns.jcp.org/jsf/passthrough"
      >
    <h:head>
        <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    </h:head>
    <ui:composition>
        <h:body>
            <main id="main" class="main">

                <div class="pagetitle">
                    <h1>Módulo de Usuarios</h1>
                    <nav>
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                            <li class="breadcrumb-item">Tables</li>
                            <li class="breadcrumb-item active">Data</li>
                        </ol>
                    </nav>
                </div><!-- End Page Title -->
                <section class="section">
                    <div class="row">
                        <div class="col-lg-12">

                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">Usuarios del Sistema</h5>
                                    <p>Seción para activa  o desactivar usuarios del Sistema.</p>

                                    <!-- Table with stripped rows -->
                                    <table class="table datatable">
                                        <thead>
                                            <tr>
                                                <th>Tipo</th>
                                                <th># Documento</th>
                                                <th>Nombres</th>
                                                <th>Apellidos</th>
                                                <th>Correo</th>
                                                <th>Estado</th>
                                                <th>Evento</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <h:form>
                                                <c:forEach items="#{gestionUsuario.listarUsuarios()}"   var ="objVa">
                                                    <tr>
                                                        <td>#{objVa.tipoDocumento}</td>
                                                        <td>#{objVa.numerodocumento}</td>
                                                        <td>#{objVa.nombres}</td>
                                                        <td>#{objVa.correoelectronico}</td>
                                                        <td>#{objVa.apellidos}</td>
                                                        <td>
                                                            <c:if test="#{objVa.estado}">
                                                                <img src="images/active.png" alt="" width="60"/>
                                                            </c:if>   
                                                            <c:if test="#{!objVa.estado}">
                                                                <img src="images/closed.png" alt="" width="60"/>
                                                            </c:if>    
                                                        </td>
                                                        <td>
                                                            <div>
                                                                <h:commandButton action="#{gestionUsuario.cambiarEstado(objVa)}" class="btn-success small" value="Cambiar Estado" ></h:commandButton>
                                                            </div>
                                                            <br></br>
                                                            <h:form>

                                                                <button type="button" class="btn-info small" data-bs-toggle="modal" data-bs-target="#smallModal">
                                                                    Editar Usuario
                                                                </button>

                                                                <div class="modal fade" id="smallModal" tabindex="-1">
                                                                    <div class="modal-dialog modal-sm">
                                                                        <div class="modal-content">
                                                                            <div class="modal-header">
                                                                                <h5 class="modal-title">Small Modal</h5>
                                                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                                            </div>
                                                                            <div class="modal-body">
                                                                                Non omnis incidunt qui sed occaecati magni asperiores est mollitia. Soluta at et reprehenderit. Placeat autem numquam et fuga numquam. Tempora in facere consequatur sit dolor ipsum. Consequatur nemo amet incidunt est facilis. Dolorem neque recusandae quo sit molestias sint dignissimos.
                                                                            </div>
                                                                            <div class="modal-footer">
                                                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                                                                <button type="button" class="btn btn-primary">Save changes</button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div><!-- End Small Modal-->
                                                            </h:form>                                                            
                                                        </td>    
                                                    </tr>
                                                </c:forEach>
                                            </h:form>
                                        </tbody>
                                    </table>
                                    <!-- End Table with stripped rows -->
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main><!-- End #main -->
        </h:body>
    </ui:composition>
</html>

